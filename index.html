<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PURIFY: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PURIFY
   </div>
   <div id="projectbrief">Next-generation radio interferometric imaging</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PURIFY Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.com/astro-informatics/purify">![Build Status](https://travis-ci.com/astro-informatics/purify.svg?branch=development)</a></p>
<h2>Description </h2>
<p><b>PURIFY</b> is an open-source collection of routines written in <code>C++</code> available under the <a href="#license">license</a> below. It implements different tools and high-level to perform radio interferometric imaging, <em>i.e.</em> to recover images from the Fourier measurements taken by radio interferometric telescopes.</p>
<p><b>PURIFY</b> leverages recent developments in the field of compressive sensing and convex optimization. Low-level functionality to solve the resulting convex optimisation is factored into the open-source companion code, <a href="https://github.com/astro-informatics/sopt">**SOPT**</a>, also written by the authors of <b>PURIFY</b>. For further background please see the <a href="#references-and-citation">reference</a> section.</p>
<p>This documentation outlines the necessary and optional <a href="#dependencies-installation">dependencies</a> upon which <b>PURIFY</b> should be built, before describing <a href="#installing-and-building-PURIFY">installation</a>, <a href="#testing">testing</a> and <a href="#usage">usage</a> details. <a href="#contributors">Contributors</a>, <a href="#references-and-citation">references</a> and <a href="#license">license</a> information then follows.</p>
<h2>Dependencies installation </h2>
<p><b>PURIFY</b> is written in <code>C++11</code>. Pre-requisites and dependencies are listed in following and minimal versions required are tested against <code>Travis CI</code> meaning that they come natively with OSX and the Ubuntu Trusty release. These are also the default ones fetched by <code>CMake</code> (an internet connection is required for this).</p>
<p><code>C++</code> minimal dependencies:</p>
<ul>
<li><a href="http://www.cmake.org/">CMake</a> v3.9.2 A free software that allows cross-platform compilation</li>
<li><a href="https://gcc.gnu.org">GCC</a> v7.3.0 GNU compiler for <code>C++</code></li>
<li><a href="https://github.com/UCL/GreatCMakeCookOff">UCL/GreatCMakeCookOff</a> Collection of <code>CMake</code> recipes. Downloaded automatically if absent</li>
<li><a href="www.fftw.org">fftw3</a>: Fastest Fourier Transform in the West</li>
<li><a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen3</a> v3.2.0 (Trusty) Modern <code>C++</code> linear algebra. Downloaded automatically if absent.</li>
<li><a href="http://www.libtiff.org/">tiff</a> v4.0.3 (Trusty) Tag Image File Format library</li>
<li><a href="https://github.com/astro-informatics/sopt">astro-informatics/sopt</a> v* Sparse Optimization Compressed Sensing library. Downloaded automatically if absent.</li>
<li><a href="http://heasarc.gsfc.nasa.gov/fitsio/fitsio.html">cfitsio</a> v* Library of <code>C</code> and <code>Fortran</code> subroutines for reading and writing data files in FITS (Flexible Image Transport System) data format. Downloaded automatically if absent.</li>
<li><a href="http://casacore.github.io/casacore/">casacore</a> - Optional - Needed to interface with measurement sets. The main purify program requires this library (and its dependencies)</li>
<li><a href="http://openmp.org/wp/">OpenMP</a> v4.8.4 (Trusty) - Optional - Speeds up some of the operations.</li>
<li><a href="https://www.open-mpi.org">MPI</a> v3.1.1 (Trusty) - Optional - Parallelisation paradigm to speed up operations.</li>
<li><a href="https://github.com/gabime/spdlog">spdlog</a> v* - Optional - Logging library. Downloaded automatically if absent.</li>
<li><a href="https://github.com/catchorg/Catch2">Catch2</a> v2.3.0 - Optional - A <code>C++</code> unit-testing framework only needed for testing. Downloaded automatically if absent.</li>
<li><a href="https://github.com/google/benchmark">google/benchmark</a> <code>v1.3.0</code> - Optional - A <code>C++</code> micro-benchmarking framework only needed for benchmarks. Downloaded automatically if absent.</li>
</ul>
<h2>Installing and building PURIFY </h2>
<p><b>PURIFY</b> can be installed through the software packet manager on Linux Debian distributions:</p>
<p>``` apt-get install purify ```</p>
<p>Alternatively, you can build <b>PURIFY</b> entirely from the source code. Once the mandatory dependencies are present, <code>git clone</code> from the <a href="https://github.com/astro-informatics/purify">GitHub repository</a>:</p>
<p>``` git clone <a href="https://github.com/astro-informatics/purify.git">https://github.com/astro-informatics/purify.git</a> ```</p>
<p>Then, the program can be built with standard <code>CMake</code> command:</p>
<p>``` cd /path/to/code mkdir build cd build cmake -DCMAKE_BUILD_TYPE=Release .. make ```</p>
<p>To test everything went all right:</p>
<p>``` cd /path/to/code/build ctest . ```</p>
<p>To install in directory <code>/X</code>, with libraries going to `X/' do:</p>
<p>``` cd /path/to/code/build cmake -DCMAKE_INSTALL_PREFIX=/X .. make install ```</p>
<h2>Testing </h2>
<p>To check everything went all right, run the test suite:</p>
<p>``` cd /path/to/code/build ctest . ```</p>
<h2>Usage </h2>
<p>The main purify executable lives either in the build directory or in the in the <code>bin</code> subdirectory of the installation directory. <code>purify</code> has one required argument, it a string for the file path of the config file containg the settings.</p>
<p><code>purify path/to/config.yaml</code>.</p>
<p>A template with a description of the settings can be found at <a href="https://github.com/astro-informatics/purify/blob/master/data/config/config.yaml">https://github.com/astro-informatics/purify/blob/master/data/config/config.yaml</a>. This can also be found in the downloaded repo at <code>data/config/config.yaml</code>. When <code>purify</code> runs a directory will be created, and the output images will be saved and time-stamped. Additionally, a config file with the settings used will be saved and time-stamped, helping for reproducibility and book-keeping.</p>
<h2>Contributors </h2>
<p>Check the <a class="el" href="de/df6/contributors.html">contributors</a> page.</p>
<h2>References and citation </h2>
<p>If you use <b>PURIFY</b> for work that results in publication, please reference the <a href="#webpage">webpage</a> and our related academic papers:</p>
<ol type="1">
<li>L. Pratley, M. Johnston-Hollitt, J. D. McEwen, "A fast and exact w-stacking and w-projection hybrid algorithm for wide-field interferometric imaging". Submitted to ApJ <a href="https://arxiv.org/abs/1807.09239">arXiv:1807.09239</a></li>
<li>L. Pratley, J. D. McEwen, M. d'Avezac, R. E. Carrillo, A. Onose, Y. Wiaux. "Robust sparse image
   reconstruction of radio interferometric observations with PURIFY". Accepted (2016) <a href="https://arxiv.org/abs/1610.02400v2">arxiv:1610.02400</a></li>
<li>A. Onose, R. E. Carrillo, A. Repetti, J. D. McEwen, J.-P. Thiran, J.-C. Pesquet, and Y. Wiaux. "Scalable splitting algorithms for big-data interferometric imaging in the SKA era" <em>Mon. Not. Roy. Astron. Soc.</em> <b>462(4):4314-4335</b> (2016) <a href="http://arxiv.org/abs/arXiv:1601.04026">arXiv:1601.04026</a></li>
<li>R. E. Carrillo, J. D. McEwen and Y. Wiaux. "PURIFY: a new approach to radio-interferometric
   imaging". <em>Mon. Not. Roy. Astron. Soc.</em> <b>439(4):3591-3604</b> (2014) <a href="http://arxiv.org/abs/1307.4370">arXiv:1307.4370</a></li>
</ol>
<h2>CMake Tips </h2>
<p>It is possible to tell <code>CMake</code> exactly which libraries to compile and link against. The general idea is to add <code>-DVARIABLE=something</code> to the command-line arguments of CMake. CMake can be called any number of times: previous settings will not be overwritten unless specifically requested. Some of the more common options are the following:</p>
<ul>
<li><code>CMAKE_PREFIX_PATH</code>: CMake will look in "CMAKE_PREFIX_PATH/lib" for libraries, "CMAKE_PREFIX_PATH/include" for headers, etc.</li>
<li><code>FFTW3_LIBRARIES</code>, <code>FFTW3_INCLUDE_DIR</code></li>
<li><code>BLAS_INCLUDE_DIRS</code>, <code>BLAS_LIBRARIES</code></li>
</ul>
<p>All these variables and more can be found and modified in the <code>CMakeCache.txt</code> file in the build directory. There are extra CMake options sepcific to purify. <code>-Ddompi=ON</code> will turn MPI on in the build, <code>-Dopenmp=ON</code> will turn openmp on for the build. <code>-Dtests=ON</code> will make sure tests are built.</p>
<p><code>ctest</code> should be run to make sure the unit tests pass.</p>
<h2>License </h2>
<blockquote class="doxtable">
<p>PURIFY Copyright (C) 2013 Rafael Carrillo, Jason McEwen, Yves Wiaux</p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details (LICENSE.txt).</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</p>
<p></p>
</blockquote>
<h2>Webpage </h2>
<p><a href="http://astro-informatics.github.io/purify/">http://astro-informatics.github.io/purify/</a></p>
<h2>Support </h2>
<p>For any questions or comments, feel free to contact <a href="#" onclick="location.href='mai'+'lto:'+'jas'+'on'+'.mc'+'ew'+'en@'+'gm'+'ail'+'.c'+'om'; return false;">Jason McEwen</a>, or add an issue to the <a href="https://github.com/astro-informatics/purify/issues">issue tracker</a>.</p>
<h2>Notes </h2>
<p>The code is given for educational purpose. The code is in beta and still under development. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
